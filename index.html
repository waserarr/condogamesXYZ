<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Insane Lua Obfuscator</title>
  <style>
    body {
      background-color: #0b0b0b;
      color: white;
      font-family: monospace;
      padding: 40px;
    }
    textarea {
      width: 100%;
      height: 250px;
      background-color: #111;
      color: #0f0;
      border-radius: 10px;
      padding: 10px;
      margin: 10px 0;
      font-size: 14px;
      resize: vertical;
    }
    button {
      background-color: #7d2ae8;
      color: white;
      border: none;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ðŸ’€ Lua Obfuscator - CondoGames.Net ðŸ’€</h1>
  <textarea id="input" placeholder="Paste your Lua code here..."></textarea>
  <button onclick="obfuscate()">Obfuscate</button>
  <textarea id="output" placeholder="Obfuscated code appears here..."></textarea>

  <script>
    function randomName(length = 20) {
      const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
      let result = "";
      for (let i = 0; i < length; i++)
        result += chars[Math.floor(Math.random() * chars.length)];
      return "__" + result;
    }

    function obfuscate() {
      const input = document.getElementById("input").value;
      if (!input.trim()) return alert("Paste Lua code first.");

      const lines = input.split("\n").map(l => l.trim()).filter(l => l.length > 0);

      const wrappedFn = randomName(50);
      let result = `-- Obfuscated by CondoGames.Net\n\n`;
      result += `local ${wrappedFn} = function()\n`;

      // Add garbage code
      for (let i = 0; i < 10; i++) {
        const garbageName = randomName(40);
        result += `  local ${garbageName} = ${Math.random().toFixed(15)}\n`;
      }

      // Wrap actual code in a nested dummy function
      const nestedFn = randomName(35);
      result += `  local ${nestedFn} = function()\n`;

      for (let line of lines) {
        const safeLine = line.replace(/\\/g, "\\\\").replace(/"/g, '\\"');
        result += `    loadstring("${safeLine}")()\n`;
      }

      result += `  end\n`;
      result += `  ${nestedFn}()\n`;

      // Final layer call
      result += `end\n${wrappedFn}()\n`;

      document.getElementById("output").value = result;
    }
  </script>
</body>
</html>
